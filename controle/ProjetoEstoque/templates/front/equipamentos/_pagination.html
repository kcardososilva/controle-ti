{% if paginator.num_pages > 1 %}
<div class="pagination-wrap">
  <div class="range-hint">
    Mostrando <strong>{{ page_obj.start_index }}</strong>–<strong>{{ page_obj.end_index }}</strong>
    de <strong>{{ paginator.count }}</strong>
  </div>
  <nav class="pager" aria-label="Paginação">
    {% with base='?'|add:qs_keep %}
      {% if page_obj.has_previous %}
        <a href="{{ base }}{% if qs_keep %}&{% endif %}page=1" title="Primeira">&laquo;</a>
        <a href="{{ base }}{% if qs_keep %}&{% endif %}page={{ page_obj.previous_page_number }}" title="Anterior">&lsaquo;</a>
      {% else %}
        <span class="disabled">&laquo;</span><span class="disabled">&lsaquo;</span>
      {% endif %}

      {% for num in paginator.page_range %}
        {% if num >= page_obj.number|add:'-2' and num <= page_obj.number|add:'2' %}
          {% if num == page_obj.number %}
            <span class="current">{{ num }}</span>
          {% else %}
            <a href="{{ base }}{% if qs_keep %}&{% endif %}page={{ num }}">{{ num }}</a>
          {% endif %}
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a href="{{ base }}{% if qs_keep %}&{% endif %}page={{ page_obj.next_page_number }}" title="Próxima">&rsaquo;</a>
        <a href="{{ base }}{% if qs_keep %}&{% endif %}page={{ paginator.num_pages }}" title="Última">&raquo;</a>
      {% else %}
        <span class="disabled">&rsaquo;</span><span class="disabled">&raquo;</span>
      {% endif %}
    {% endwith %}
  </nav>
</div>
{% else %}
<div class="pagination-wrap" style="justify-content:flex-end">
  <div class="range-hint">Total: <strong>{{ paginator.count }}</strong></div>
</div>
{% endif %}
